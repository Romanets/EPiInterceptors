//>>built
require({cache:{"url:epi/packaging/templates/DetailedView.htm":"<div class=\"epi-packaging-detailedViewContainer epi-TabContainerWrapper\" data-dojo-attach-point=\"contentContainer\">\r\n    <div data-dojo-attach-point=\"tabContainer\" data-dojo-type=\"dijit.layout.TabContainer\">\r\n        <div class=\"epi-dialogPadding\" data-dojo-type=\"dijit.layout.ContentPane\" title=\"${res.tab.title.overview}\"  selected=\"true\">\r\n            <h4>${res.tab.content.about}</h4>\r\n            <p data-dojo-attach-point=\"overviewAboutContent\"></p>\r\n            \r\n            <h4>${res.tab.content.releasenotes}</h4>\r\n            <p data-dojo-attach-point=\"overviewReleaseNotesContent\"></p>\r\n        </div>\r\n        <div class=\"epi-dialogPadding\" data-dojo-type=\"dijit.layout.ContentPane\" title=\"${res.tab.title.specs}\">\r\n            <ul data-dojo-attach-point=\"specItemList\"></ul>\r\n        </div>\r\n        <div class=\"epi-dependenciesTabContainer\" data-dojo-type=\"dijit.layout.ContentPane\" title=\"${res.tab.title.dependencies}\">\r\n            <div data-dojo-attach-point=\"dependenciesContent\"></div>\r\n            <div data-dojo-attach-point=\"dependenciesList\" data-dojo-type=\"epi.packaging.DependenciesGrid\"></div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("epi/packaging/DetailedView",["epi","epi/datetime","dojo","dojo/dom-geometry","dijit","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/layout/_LayoutWidget","dijit/layout/TabContainer","dijit/layout/ContentPane","epi/shell/widget/_ActionProviderWidget","dojo/text!./templates/DetailedView.htm","epi/shell/widget/Toolbar","epi/packaging/DependenciesGrid","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.DetailedView"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f){return _3.declare("epi.packaging.DetailedView",[_8,_6,_7,_b],{currentPackage:null,installHandler:null,updateHandler:null,unInstallHandler:null,closeHandler:null,res:_f,templateString:_c,_specItemTemplate:"<li>                                <span class='epi-specItemLabel'>{specItemLabel}</span>                                <span class='epi-specItemValue'>{specItemValue}</span>                            </li>",_toolbar:null,postCreate:function(){this.inherited(arguments);if(!this.currentPackage){return;}this._loadOverviewTabContent();this._loadSpecsTabContent();this._loadDependenciesTabContent();},startup:function(){this.inherited(arguments);},layout:function(){this.inherited(arguments);this._contentBox.h=_4.position(this.contentContainer.parentNode).h;this.tabContainer.resize(this._contentBox);if(!this.currentPackage||!this.currentPackage.dependencies||this.currentPackage.dependencies.length<1){this.dependenciesContent.innerHTML=this.res.tab.dependencies.nodependencies;}},_hideTab:function(_10){_3.forEach(this.tabContainer.tablist.getChildren(),_3.hitch(this,function(_11,_12,_13){if(_11.label===_10){_3.style(_11.domNode,{display:"none"});return;}}));},_loadOverviewTabContent:function(){this.overviewAboutContent.innerHTML=this.currentPackage.description||"";this.overviewReleaseNotesContent.innerHTML=this.currentPackage.releaseNotes||"";},_loadDependenciesTabContent:function(){this.dependenciesList.data=this.currentPackage.dependencies;},_loadSpecsTabContent:function(){var _14="";if(this.currentPackage.versionInstalled){if(this.currentPackage.version==this.currentPackage.versionLatestAvailable&&this.currentPackage.isInstalled){_14+=this._addSpecItems(this.res.tab.content.status,"<span class='epi-installationStatusIcon epi-installedStatusIcon'></span>"+this.res.tab.content.installed);}else{_14+=this._addSpecItems(this.res.tab.content.status,"<span class='epi-installationStatusIcon epi-newVersionStatusIcon'></span>"+_3.replace(this.res.tab.content.priorversioninstalled,{priorversion:this.currentPackage.versionInstalled}));}}else{_14+=this._addSpecItems(this.res.tab.content.status,"<span class='epi-installationStatusIcon epi-notInstalledStatusIcon'></span>"+this.res.tab.content.notinstalled);}var _15=_2.toUserFriendlyHtml(this.currentPackage.installDate);_14+=this._addSpecItems(this.res.tab.content.installationdate,_15||this.res.tab.content.notavailable);_14+=this._addSpecItems(this.res.tab.content.installedby,this.currentPackage.installedBy||this.res.tab.content.notavailable);_14+=this._addSpecItems(this.res.tab.content.version,this.currentPackage.version||"");_14+=this._addSpecItems(this.res.tab.content.releaseby,this.currentPackage.authors||"");var _16=_3.map(this.currentPackage.tags,function(_17){return " \""+_17+"\"";});_14+=this._addSpecItems(this.res.tab.content.tags,_16||"");this.specItemList.innerHTML=_14;},_addSpecItems:function(_18,_19){return _3.replace(this._specItemTemplate,{specItemLabel:_18,specItemValue:_19});},getActions:function(){if(!this.currentPackage){return [];}this._actions=[];if(this.currentPackage.isUpdateAvailable){this.addActions({name:"update",label:_1.resources.action.update,action:_3.hitch(this,this.updateHandler)});if(!this.currentPackage.isSystem){this.addActions({name:"uninstall",label:_1.resources.action.uninstall,action:_3.hitch(this,this.unInstallHandler)});}}else{if(!this.currentPackage.isInstalled){this.addActions({name:"install",label:_1.resources.action.install,action:_3.hitch(this,this.installHandler)});}else{if(!this.currentPackage.isSystem){this.addActions({name:"uninstall",label:_1.resources.action.uninstall,action:_3.hitch(this,this.unInstallHandler)});}}}this.addActions({name:"close",label:_1.resources.action.close,action:_3.hitch(this,this._closeClick)});return this._actions;},_closeClick:function(){if(this.closeHandler){this.closeHandler();}}});});