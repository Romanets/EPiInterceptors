//>>built
define("epi/cms/component/PageTreeComponent",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","epi/dependency","epi/cms/component/PageTree","epi/cms/widget/SearchBox"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _2("epi.cms.component.PageTreeComponent",[_5,_6,_7],{templateString:"<div>                            <div data-dojo-type=\"epi.cms.widget.SearchBox\" data-dojo-attach-point=\"search\" class=\"epi-gadgetInnerToolbar\"></div>                            <div data-dojo-type=\"dijit.layout._LayoutWidget\" data-dojo-attach-point=\"navigation\" style=\"overflow:auto;\"></div>                        </div>",_application:null,_tree:null,postCreate:function(){this.inherited(arguments);this.search.set("area","cms/pages");this._application=this._application||_8.resolve("epi.cms.Application");var _b=new _9();_b.placeAt(this.navigation);this._setSearchRoots(_b.model);},layout:function(){var cb=this._contentBox,sb=_4.getMarginBox(this.search.domNode);this.navigation.resize({w:cb.w,h:cb.h-sb.h});},_setSearchRoots:function(_c){_c.getChildren(this._application.getRootPage(),_3.hitch(this,function(_d){var _e=[];_1.forEach(_d,function(_f){_e.push(_f.contentLink);},this);this.search.set("searchRoots",_e.join(","));}));}});});