//>>built
define("epi/cms/component/SiteTree",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/dom-style","dijit/layout/_LayoutWidget","dijit/Tooltip","epi/cms/component/SiteTreeModel","epi/cms/component/SiteTreeNode","epi/dependency","epi/shell/command/_WidgetCommandProviderMixin","epi/shell/command/ToggleCommand","epi/shell/widget/Tree","epi/i18n!epi/cms/nls/episerver.cms.components.sitetree"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){return _1("epi.cms.component.SiteTree",[_5,_a],{buildRendering:function(){this.inherited(arguments);_4.set(this.domNode,"overflow","auto");},postCreate:function(){this.inherited(arguments);var _e=_9.resolve("epi.storeregistry");var _f=_e.get("epi.cms.sitestructure");var _10=this._treeModel=new _7(_f);var _11=new _b({category:"setting",label:_d.showalllanguages,model:_10,property:"showAllLanguages"});this.commands.push(_11);this._tree=new _c({model:_10,showRoot:false,"class":"epi-simpleTree",persist:false,onClick:function(_12){window.top.location.replace(_12.editUrl);},_createTreeNode:function(_13){return new _8(_13);},_onNodeMouseEnter:function(_14){if(_14.item.isLanguageNode&&!_14.item.isAvailable){_6.show(_d.notavailabletooltip,_14.labelNode,["after-centered","below"]);}},_onNodeMouseLeave:function(_15){_6.hide(_15.labelNode);}});this.addChild(this._tree);},startup:function(){this.inherited(arguments);this._setTreePath();},_setTreePath:function(){_2.when(this._treeModel.getCurrentSite(),_3.hitch(this,function(_16){this._tree.set("path",["root",_16.currentSite,_16.currentEditLanguageId]);}));}});});