//>>built
define("epi/cms/widget/ContentTreeModelConfirmation",["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/aspect","dojo/string","epi/string","epi/shell/widget/dialog/Alert","epi/shell/widget/dialog/Confirmation","epi/cms/widget/sharedContentDialogHandler","epi/cms/contentediting/ContentActionSupport","epi/i18n!epi/cms/nls/episerver.cms.components.pagetree","epi/i18n!epi/cms/nls/episerver.cms.components.sharedblockscomponent.folder","epi/i18n!epi/cms/nls/episerver.cms.components.sharedblockscomponent.block"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){return function(_e){var _f=null;var _10=function(_11){var _12=new _7({destroyOnHide:true,description:_6.toHTML(_11)});_12.show();};var _13=function(_14,_15){var _16=new _3();var _17=new _8({destroyOnHide:true,description:_6.toHTML(_15),title:_14,onAction:function(_18){_18?_16.resolve():_16.cancel();}});_17.show();return _16;};var _19=function(_1a){var _1b=[_d,_c,_b];var _1c=["isBlock","isFolder","isPage"];_f=_b;if(_1a&&_1a.capabilities){for(var i=0;i<_1c.length;i++){if(_1a.capabilities[_1c[i]]){_f=_1b[i];return;}}}};_4.around(_e,"pasteItem",function(_1d){return function(_1e,_1f,_20,_21,_22){_19(_1e);var _23=true;if(_20.isWastebasket){_23=_9({contentData:_1e});}else{if(_22!==undefined&&(_20.properties.pageChildOrderRule!==_a.sortOrder.Index)){var _24=_5.substitute(_f.changepeerorderconfirmation,[_e.getLabel(_20)]);_23=_13(_f.move.title,_24);}else{if(!_21){_23=_13(_f.move.title,_f.moveconfirmation);}}}var _25=arguments;return _3.when(_23,function(){return _1d.apply(_e,_25);},function(){return false;});};});_4.after(_e,"pasteItem",function(_26){_26.then(function(_27){if(_27&&_27.message){_10(_27.message);}},function(){console.error("An unknown error occured when pasting an item: ",arguments);});return _26;});return _e;};});