//>>built
define("epi/cms/contentediting/editors/CheckBoxListEditor",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/on","dijit/focus","dijit/_TemplatedMixin","dijit/_Widget","dijit/form/CheckBox","epi/shell/widget/_ValueRequiredMixin"],function(_1,_2,_3,_4,on,_5,_6,_7,_8,_9){return _2("epi.cms.contentediting.editors.CheckBoxListEditor",[_7,_6,_9],{templateString:"<div class=\"dijit dijitReset dijitInline\"></div>",baseClass:"epi-checkBoxList",value:null,constructor:function(){this._checkboxes=[];this._labelClickHandles=[];},buildRendering:function(){this.inherited(arguments);_1.forEach(this.selections,this._addCheckBoxForItem,this);},destroy:function(){var _a;while(_a=this._checkboxes.pop()){_a.destroyRecursive();}var _b;while(_b=this._labelClickHandles.pop()){_b.remove();}this.inherited(arguments);},focus:function(){try{if(this._checkboxes.length>0){_5.focus(this._checkboxes[0].domNode);}}catch(e){}},onChange:function(){},onBlur:function(){},onFocus:function(){},_calculateValue:function(){var _c="";_1.forEach(this._checkboxes,function(_d){if(_d.checked){_c=_c+_d.value+",";}});this._set("value",_c.slice(0,-1));},_setValueAttr:function(_e){var _f=_e&&_e.split(",");this._set("value",_e);_1.forEach(this._checkboxes,function(_10){_10.set("checked",_1.some(_f,function(v){return v===_10.value;}));});},_onBlur:function(){this.inherited(arguments);this.onBlur();},_addCheckBoxForItem:function(_11){var _12=_4.create("span",null,this.domNode);var _13=new _8({value:_11.value});_13.placeAt(_12);_13.on("change",_3.hitch(this,function(){this._calculateValue();this.onChange(this.value);}));_13.on("focus",_3.hitch(this,function(){this._set("focused",true);this.onFocus();}));_13.on("blur",_3.hitch(this,function(){this._set("focused",false);this._onBlur();}));_13.set("readOnly",!!this.readOnly);this._checkboxes.push(_13);var _14=_4.create("label",{"for":_13.id,innerHTML:_11.text},_12);this._labelClickHandles.push(on(_14,"click",_3.hitch(this,function(){_5.focus(_13.domNode);})));}});});