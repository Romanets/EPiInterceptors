//>>built
define("epi/cms/widget/SearchBox",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/connect","dojo/_base/lang","dojo/dom-construct","dijit/_Widget","epi/shell/SearchManager","epi/cms/widget/ContentSearchBox"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1("epi.cms.widget.SearchBox",[_6],{area:null,searchRoots:null,filterOnCulture:null,_searchBox:null,_searchManager:null,postCreate:function(){this.inherited(arguments);this._searchManager=new _7();_2.when(this._searchManager.getStore(),_4.hitch(this,function(_9){this._searchBox=new _8({"searchAttr":"searchQuery","store":_9});this._searchBox.on("select",_4.hitch(this,function(_a){this._searchBox.set("value","");this._searchBox.focus();this._searchBox.toggleClearButton();this.onItemAction(_a);}));this.set("filterOnCulture",true);_5.place(this._searchBox.domNode,this.domNode);}));},_setAreaAttr:function(_b){this._set("area",_b);if(this._searchBox){_2.when(this._searchManager.getProviderQuery(_b),_4.hitch(this,function(_c){_4.mixin(this._searchBox.query,_c);}));}},_setSearchRootsAttr:function(_d){this._set("searchRoots",_d);if(this._searchBox){_4.mixin(this._searchBox.query,{searchRoots:_d});}},_setFilterOnCultureAttr:function(_e){this._set("filterOnCulture",_e);if(this._searchBox){_4.mixin(this._searchBox.query,{filterOnCulture:_e});}},onItemAction:function(_f){var _10={uri:"epi.cms.contentdata:///"+_f.metadata.id};_3.publish("/epi/shell/context/request",[_10,{sender:null}]);}});});