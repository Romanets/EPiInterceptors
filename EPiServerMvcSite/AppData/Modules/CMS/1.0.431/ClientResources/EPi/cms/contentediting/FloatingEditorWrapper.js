//>>built
define("epi/cms/contentediting/FloatingEditorWrapper",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/number","epi/shell/widget/dialog/LightWeight","epi/cms/contentediting/FlyoutEditorWrapper"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2("epi.cms.contentediting.FloatingEditorWrapper",[_9],{_eventHandlers:[],_overlayContainer:null,_iframeWithOverlay:null,postMixInProperties:function(){var _a=this.overlayItem;while(_a){if(_a.declaredClass==="epi.shell.widget.IframeWithOverlay"){this._iframeWithOverlay=_a;break;}_a=_a.getParent();}},_createDialog:function(_b){var _c=function(_d){if(!this.open||!_d){return;}this._containerNodeCS=this._containerNodeCS||_6.getComputedStyle(this.containerNode);if(!this._dialogChromeSize){_6.set(this.containerNode,{display:"none"});this._chromeHeight=_5.getMarginBox(this.domNode).h;_6.set(this.containerNode,{display:"block",overflowY:"auto"});}_5.setMarginBox(this.containerNode,{h:_d.h-this._chromeHeight},this._containerNodeCS);_6.set(this.domNode,{top:_d.t+"px",left:_d.l+"px"});};var _e=new _8({title:this.propertyDisplayName,content:_b,duration:350,draggable:false,closeIconVisible:false,region:"trailing",resize:_c,overlayItem:this.overlayItem,_position:function(){},_size:function(){}});_4.add(_e.domNode,"epi-floatingEditorWrapperDialog");_e.placeAt(this._iframeWithOverlay,"last");_6.set(_e.domNode,{top:"-10000px"});return _e;},startEdit:function(){function _f(){this.tryToStopEditing(false);};this.inherited(arguments);this._eventHandlers.push(_1.connect(this._iframeWithOverlay.scroller,"mousedown",this,_f));},_removeEditingFeatures:function(){this.inherited(arguments);this._disconnectLocal(this._eventHandlers);},_disconnectLocal:function(_10){if(_3.isArray(_10)){var _11;while(_11=_10.pop()){_1.disconnect(_11);}}}});});