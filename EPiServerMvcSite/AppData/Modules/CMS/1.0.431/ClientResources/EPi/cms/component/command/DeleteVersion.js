//>>built
define("epi/cms/component/command/DeleteVersion",["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","epi/cms/contentediting/ContentActionSupport","epi/dependency","epi/i18n!epi/cms/nls/episerver.cms.components.versions","epi/shell/command/_Command"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_7],{label:_6.deletemenuitemtitle,iconClass:"epi-iconTrash",category:"context",constructor:function(){var _8=_5.resolve("epi.storeregistry");this._content=_8.get("epi.cms.contentdata");this._versions=_8.get("epi.cms.contentversion");},_execute:function(){return this._versions.remove(this.model.contentLink);},_onModelChange:function(){if(!this.model.allowToDelete){this.set("canExecute",false);return;}_3.when(this._content.get(this.model.contentLink),_2.hitch(this,function(_9){var _a=_4.action,_b=_9&&(_4.isActionAvailable(_9,_a.Edit)||_4.isActionAvailable(_9,_a.Delete));this.set("canExecute",_b);}));}});});