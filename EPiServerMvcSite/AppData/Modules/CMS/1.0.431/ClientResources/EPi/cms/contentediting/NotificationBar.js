//>>built
require({cache:{"url:epi/cms/contentediting/templates/NotificationBar.html":"<div class=\"epi-notificationBar\">\r\n    <div data-dojo-attach-point=\"containerNode\"></div>\r\n</div>","url:epi/cms/contentediting/templates/NotificationBarItem.html":"<div class=\"epi-notificationBarItem\">\r\n    <div class=\"epi-notificationBarText\" data-dojo-attach-point=\"contentContainer\">\r\n        <p data-dojo-attach-point=\"textContainer\"></p>\r\n    </div>\r\n    <div class=\"epi-notificationBarButtonContainer\" data-dojo-attach-point=\"buttonContainer\">\r\n        <button data-dojo-type=\"dijit.form.Button\" class=\"epi-chromelessButton\" data-dojo-props=\"iconClass:'epi-iconClose', showLabel:false\" data-dojo-attach-event=\"onClick:_onClose\"></button>\r\n    </div>\r\n</div>"}});define("epi/cms/contentediting/NotificationBar",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/_base/array","dijit/_TemplatedMixin","dijit/_Widget","dijit/_Container","dijit/_WidgetsInTemplateMixin","dojo/Evented","dijit/form/Button","dojox/html/ellipsis","dojo/text!./templates/NotificationBar.html","dojo/text!./templates/NotificationBarItem.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f){var _10=_1("epi.cms.contentediting.NotificationBarItem",[_8,_7,_a,_b],{templateString:_f,item:null,_handles:null,viewModel:null,postMixInProperties:function(){this._handles=[];this._buttons=[];},postCreate:function(){this.inherited(arguments);if(this.item.content){this._addContent(this.item);}this._addCommands(this.item);},destroy:function(){var _11;while(_11=this._buttons.pop()){_11.destroyRecursive();}this.inherited(arguments);},on:function(_12,_13){var _14=this.inherited(arguments);this._handles.push(_14);return _14;},uninitialize:function(){this.inherited(arguments);_6.forEach(this._handles,function(_15){_15.remove();});},_onClose:function(e){e.preventDefault();this.emit("close",this);},_addContent:function(_16){if(_2.isString(_16.content)){this.textContainer.innerHTML=this.item.content;}else{_5.place(this.item.content,this.textContainer);}},_addCommands:function(_17){if(_2.isArray(this.item.commands)){_6.forEach(this.item.commands,_2.hitch(this,function(_18){this._addButtonForCommand(_18);}));}},_addButtonForCommand:function(_19){var _1a=new _c({label:_19.label,title:_19.tooltip,iconClass:_19.iconClass,onClick:function(){_19.execute();}});if(_19.cssClass){_3.add(_1a.domNode,_19.cssClass);}_1a.set("disabled",!_19.canExecute);_19.watch("canExecute",_2.hitch(this,function(){_1a.set("disabled",!_19.canExecute);}));if(_19.category==="leftAligned"){_1a.placeAt(this.contentContainer,"first");}else{_1a.placeAt(this.buttonContainer,"first");}this._buttons.push(_1a);}});var _1b=_1("epi.cms.contentediting.NotificationBar",[_8,_9,_7,_a,_b],{templateString:_e,noBorderClass:"epi-notificationBarWithoutBorder",clear:function(){this._hideIfEmpty();_6.forEach(this.getChildren(),function(_1c){this.removeChild(_1c);},this);this.emit("notificationsChanged");},destroy:function(){this.destroyDescendants();this.inherited(arguments);},add:function(_1d){var _1e=new _10({item:_1d});_1e.on("close",_2.hitch(this,"_onCloseNotification"));this.addChild(_1e);this._hideIfEmpty();this.emit("notificationsChanged");},remove:function(_1f){_6.forEach(this.getChildren(),_2.hitch(this,function(_20){if(_20.item&&_20.item==_1f){this._onCloseNotification(_20);}}));this._hideIfEmpty();},_onCloseNotification:function(_21){this.removeChild(_21);this._hideIfEmpty();this.emit("notificationsChanged");},_hideIfEmpty:function(){var _22=this.getChildren().length>0;_3.toggle(this.domNode,this.noBorderClass,!_22);_4.set(this.domNode,"display",_22?"":"none");}});return _1b;});