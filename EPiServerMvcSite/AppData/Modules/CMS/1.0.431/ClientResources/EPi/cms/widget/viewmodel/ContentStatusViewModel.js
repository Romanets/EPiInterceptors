//>>built
define("epi/cms/widget/viewmodel/ContentStatusViewModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/Stateful","epi/dependency","epi/shell/_StatefulGetterSetterMixin","epi/cms/contentediting/ContentActionSupport","epi/i18n!epi/cms/nls/episerver.cms.contentediting.versionstatus"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_5,_7],{store:null,statusIcon:null,statusMessage:null,postscript:function(){this.inherited(arguments);this._setupDefaultSettings();},_setContentLinkAttr:function(_a){if(!_a||_a===""){return;}_3.when(this.store.get(_a),_4.hitch(this,function(_b){if(_b&&_b.status!==undefined){this.set("isDeleted",_b.isDeleted);this.set("isTranslationNeeded",_b.missingLanguageBranch&&_b.missingLanguageBranch.isTranslationNeeded);this.set("contentStatus",_b.status);}}));},_setContentStatusAttr:function(_c){this._set("contentStatus",_c);this.set("statusMessage",this.getStatusMessage(_c));this.set("statusIcon",this.getStatusIcon(_c));},_setUpdateStatusMessageArrayAttr:function(_d,_e){this._updateArrayByIndex("statusMessageArray",_d,_e);},_setUpdateStatusIconArrayAttr:function(_f,_10){this._updateArrayByIndex("statusIconArray",_f,_10);},getStatusMessage:function(_11){if(this.isDeleted){return _9.versionnotfound;}if(this.isTranslationNeeded){return _9.translationrequired;}return this.get("statusMessageArray")[_11];},getStatusIcon:function(_12){return this.get("statusIconArray")[_12];},validateStatus:function(_13){if(this.isDeleted||this.isTranslationNeeded){return true;}var _14=this.get("noShowCodeArray");if(!_14||!_4.isArray(_14)||_14.length===0){return true;}if(_13==null){return false;}return !_1.some(_14,function(_15){return _13===_15;});},_updateArrayByIndex:function(_16,_17,_18){var _19=this.get(_16);_1.forEach(_17,function(_1a,_1b){_19[_1a]=_18[_1b];this._set(_16,_19);},this);},_setupDefaultSettings:function(){this.store=this.store||_6.resolve("epi.storeregistry").get("epi.cms.content.light");var _1c=[_8.versionStatus.Published],_1d=[["epi-statusIndicatorIcon","epi-statusIndicator0"],["epi-statusIndicatorIcon","epi-statusIndicator1"],["epi-statusIndicatorIcon","epi-statusIndicator2"],["epi-statusIndicatorIcon","epi-statusIndicator3"],["epi-statusIndicatorIcon","epi-statusIndicator4"],["epi-statusIndicatorIcon","epi-statusIndicator5"],["epi-statusIndicatorIcon","epi-statusIndicator6"],["epi-statusIndicatorIcon","epi-statusIndicator7"]],_1e=[_9.notcreated,_9.rejected,_9.checkedout,_9.checkedin,_9.published,_9.previouslypublished,_9.delayedpublish,_9.expired];this._set("noShowCodeArray",_1c);this._set("statusIconArray",_1d);this._set("statusMessageArray",_1e);}});});