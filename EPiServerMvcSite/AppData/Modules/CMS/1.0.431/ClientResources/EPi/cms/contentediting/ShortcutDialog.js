//>>built
require({cache:{"url:epi/cms/contentediting/templates/ShortcutDialog.html":"<div class=\"epi-formContainer\">\r\n    <div data-dojo-type=\"epi.cms.widget.Breadcrumb\" data-dojo-attach-point=\"breadcrumb\" data-dojo-props=\"showCurrentNode: false\"></div>\r\n    <h1 data-dojo-attach-point=\"contentNameNode\" class=\"epi-breadCrumbsCurrentItem dijitInline dojoxEllipsis\"></h1>\r\n    <div data-dojo-type=\"dijit.form.Form\" class=\"epi-formArea\" data-dojo-attach-point=\"form\"></div>\r\n</div>"}});define("epi/cms/contentediting/ShortcutDialog",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/html","dijit/_CssStateMixin","epi/cms/widget/Breadcrumb","epi/shell/widget/dialog/_DialogContentMixin","epi/shell/widget/FormContainer","epi/shell/widget/_ModelBindingMixin","epi/shell/widget/_ActionProviderWidget","dojo/text!./templates/ShortcutDialog.html","epi/i18n!epi/cms/nls/episerver.cms.widget.shortcutblockeditor","epi/i18n!epi/cms/nls/shell.common.buttons"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e){return _1("epi.cms.contentediting.ShortcutDialog",[_9,_b,_8,_6,_a],{templateString:_c,contentLink:null,contentName:null,baseClass:"epi-statusIndicator",_externalLinkWidget:null,_shortcutLinkWidget:null,_shortcutTypeWidget:null,_targetFrameWidget:null,_switchLinkTypeFirstRunDone:false,modelBindingMap:{"contentLink":["contentLink"],"contentName":["contentName"],"enableSaveButton":["enableSaveButton"],"enableShortcutLink":["enableShortcutLink"],"enableExternalLink":["enableExternalLink"],"clearExternalLink":["clearExternalLink"]},_setContentLinkAttr:function(_f){this.breadcrumb.set("contentLink",_f);},_setContentNameAttr:{node:"contentNameNode",type:"innerHTML"},_setEnableSaveButtonAttr:function(_10){if(this._actions&&this._actions.length){this.setActionProperty("save","disabled",!_10);}},_setEnableShortcutLinkAttr:function(_11){if(this._shortcutLinkWidget){this._shortcutLinkWidget.set("required",_11);this._shortcutLinkWidget.set("state","");var _12=this._getAncestorNode(this._shortcutLinkWidget.domNode,"epi-formsRow");if(_12){_3.set(_12,"display",_11?"":"none");}}},_setEnableExternalLinkAttr:function(_13){if(this._externalLinkWidget){this._externalLinkWidget.set("required",_13);this._externalLinkWidget.set("disabled",!_13);this._externalLinkWidget._set("state","");var _14=this._getAncestorNode(this._externalLinkWidget.domNode,"epi-formsRow");if(_14){_3.set(_14,"display",_13?"":"none");}}},_getAncestorNode:function(_15,_16){var _17=_15?_15.parentNode:null;if(!_17){return null;}if(!_4.contains(_17,_16)){return this._getAncestorNode(_17,_16);}return _17;},_setClearExternalLinkAttr:function(_18){if(this._externalLinkWidget&&_18&&!this._switchLinkTypeFirstRunDone){this._externalLinkWidget.reset();this._switchLinkTypeFirstRunDone=true;}},onFieldCreated:function(_19,_1a){switch(_19){case "pageLinkURL":this._externalLinkWidget=_1a;this._externalLinkWidget.set("invalidMessage",_d.protocolwarning);this._externalLinkWidget.set("acceptUrl",true);this._externalLinkWidget.set("acceptMailAddress",true);this._externalLinkWidget.set("regExp","^[a-z][a-z\\d+-.]*:.*");this.connect(this._externalLinkWidget.domNode,"onkeyup",_2.hitch(this,function(evt){this.model.set("enableSaveButton",true);}));break;case "pageShortcutLink":this._shortcutLinkWidget=_1a;this._shortcutLinkWidget.set("contentLink",this.model.get("contentLink"));this._shortcutLinkWidget.set("canSelectOwnerContent",false);break;case "pageShortcutType":this._shortcutTypeWidget=_1a;break;case "pageTargetFrame":this._targetFrameWidget=_1a;break;default:break;}},onChange:function(_1b){this.inherited(arguments);this.model.set("intermediateValue",_2.mixin(_1b,{"pageShortcutTypeName":this._shortcutTypeWidget?this._shortcutTypeWidget.get("displayedValue"):""}));},_getValueAttr:function(){return this.model.get("intermediateValue");},getActions:function(){this._actions=[{name:"save",label:_e.save,settings:{type:"button",disabled:true,"class":"Salt"},action:_2.hitch(this,function(){if(this.validate()){this.executeDialog();}else{this.model.set("enableSaveButton",false);}})},{name:"cancel",label:_e.cancel,settings:{type:"button"},action:_2.hitch(this,function(){this.cancelDialog();})}];return this._actions;}});});