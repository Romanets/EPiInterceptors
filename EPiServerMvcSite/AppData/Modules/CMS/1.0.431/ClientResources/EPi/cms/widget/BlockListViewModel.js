//>>built
define("epi/cms/widget/BlockListViewModel",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/_base/array","dojo/Stateful","epi/shell/_StatefulGetterSetterMixin","epi/cms/contentediting/ContentActionSupport","epi/cms/widget/ContentTreeStoreModel"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1("epi.cms.widget.BlockListViewModel",_8,{typeIdentifiers:["epi.cms.block"],additionalQueryOptions:{sort:[{attribute:"name",descending:false}]},contentData:null,fetchData:function(){if(!this.contentData||this.contentData.isDeleted){return;}var _9=new _2();dojo.when(this.store.query(this._createQuery({referenceId:this.contentData.contentLink,query:"getchildren"}),this._queryOptions),dojo.hitch(this,function(_a){_4.forEach(_a,function(_b,_c){_a[_c]=dojo.mixin({id:_b.contentLink},_b);});_9.resolve(_a);}));return _9;},canCopy:function(_d){return _7.hasAccess(_d.accessMask,_7.accessLevel.Read);},canDelete:function(_e){return _7.hasAccess(_e.accessMask,_7.accessLevel.Delete);},canPaste:function(){return false;},isAncestor:function(_f,_10){return false;}});});