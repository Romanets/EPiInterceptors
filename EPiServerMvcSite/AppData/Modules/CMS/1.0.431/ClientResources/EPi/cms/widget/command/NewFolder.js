//>>built
define("epi/cms/widget/command/NewFolder",["dojo/_base/declare","epi/i18n!epi/cms/nls/episerver.cms.components.sharedblockscomponent","epi/i18n!epi/cms/nls/episerver.cms.components.createfolder","epi/shell/command/_Command","epi/shell/command/_SelectionCommandMixin","epi/cms/contentediting/ContentActionSupport"],function(_1,_2,_3,_4,_5,_6){return _1([_4,_5],{label:_2.contextmenu.newfolder,iconClass:"epi-iconFolder",contentActionSupport:null,postscript:function(){this.inherited(arguments);this.contentActionSupport=this.contentActionSupport||_6;},_execute:function(){var _7=this._getTarget();this.model.add({parentLink:this.model.getIdentity(_7),name:_3.defaultname,contentTypeId:_7.contentTypeID});},_onModelChange:function(){var _8=this._getTarget();var _9=this.model&&_8&&this.contentActionSupport.isActionAvailable(_8,_6.action.Create,true,true);this.set("canExecute",!!_9);},_getTarget:function(){var _a=this.selection&&this.selection.data,_b=_a&&_a.length==1&&_a[0];return (_b!=null)&&(_b.type=="epi.cms.contentdata")?_b.data:null;}});});