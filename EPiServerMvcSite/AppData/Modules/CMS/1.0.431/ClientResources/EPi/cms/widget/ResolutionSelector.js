//>>built
define("epi/cms/widget/ResolutionSelector",["dojo","dojo/_base/lang","dojo/_base/array","epi","epi/dependency","epi/cms/widget/_ItemSelectorBase","epi/cms/widget/_DropDownWidgetItemMixin","epi/i18n!epi/cms/nls/episerver.cms.widget.resolutionselector"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1.declare("epi.cms.widget.ResolutionSelector",[_6,_7],{_resolutionHash:{},defaultItem:{name:_8.defaultitem,width:1,height:1},postMixInProperties:function(){this.inherited(arguments);var _9=_5.resolve("epi.cms.Application");this._availableResolutions=_9.getDisplayResolutions();this._availableResolutions.unshift(this.defaultItem);_3.forEach(this._availableResolutions,_2.hitch(this,function(_a){var _b=_a.width+"x"+_a.height;this._resolutionHash[_b]=_a.name;}));this.checkedItem=(this.checkedItem?this._resolutionHash[this.checkedItem]:this.defaultItem.name);},postCreate:function(){this.inherited(arguments);this.set("header",_8.header);this.set("items",this._availableResolutions);},getDefaultResolution:function(_c){var _d=this.defaultItem;var _e=_1.filter(this._availableResolutions,function(_f){if(_f.id==_c.resolutionId){return _f;}});if(_e!=null&&_2.isArray(_e)&&_e.length>=1){_d=_e[0];}return _d;}});});