//>>built
define("epi/cms/legacy/LegacyDialogPopup",["epi","dojo","dojo/i18n","dojo/_base/Deferred","dojo/DeferredList","epi/shell/widget/dialog/Dialog"],function(_1,_2,_3,_4,_5,_6){return _2.declare("epi.cms.legacy.LegacyDialogPopup",[_6],{url:null,dialogArguments:null,callbackArguments:null,features:null,autoFit:false,showLoadingOverlay:false,legacyDialogObject:null,defaultActionsVisible:false,contentClass:"epi-dialog-fullWidth",dialogClass:"",_legacyDialogContainer:null,_legacyDialogLoadDeferred:null,postCreate:function(){this.inherited(arguments);this._legacyDialogContainer=_2.create("div");this.set("content",this._legacyDialogContainer);},onCallback:function(_7,_8){},onClose:function(){},onLoad:function(_9){},show:function(){var _a=new _5([this._loadLegacyDialog(),this.inherited(arguments)]);return _a.then(_2.hitch(this,function(_b){var _c=_b[1];if(this.features&&this.features.left&&this.features.top){this.dialog._relativePosition={x:this.features.left,y:this.features.top};}return _c;}));},_loadLegacyDialog:function(){if(this._legacyDialogLoadDeferred){return this._legacyDialogLoadDeferred;}this._legacyDialogLoadDeferred=new _4();require(["epi/cms/legacy/LegacyDialogWrapper"],_2.hitch(this,function(_d){var _e=new _d({url:this.url,dialogArguments:this.dialogArguments,callbackArguments:this.callbackArguments,features:this.features,autoFit:this.autoFit,showLoadingOverlay:this.showLoadingOverlay},this._legacyDialogContainer);_e.startup();this.legacyDialogObject=_e.getLegacyDialog();this.connect(_e,"onCallback",_2.hitch(this,function(_f,_10){this.onCallback(_f,_10);this.hide();}));this.connect(_e,"onLoad",_2.hitch(this,function(){this.set("title",_e.title);this.onLoad(_e);}));this.connect(_e,"onCancel",_2.hitch(this,function(){this.hide();}));this.connect(_e,"onResize",_2.hitch(this,function(){this.layout();}));this.connect(this,"onHide",_2.hitch(this,function(){_e.cleanup();this.onClose();}));this._legacyDialogLoadDeferred.resolve();}));return this._legacyDialogLoadDeferred;}});});