//>>built
define("epi/shell/dnd/tree/dndSource",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/on","dojo/touch","dojo/topic","dojo/dnd/Manager","dijit/tree/dndSource"],function(_1,_2,_3,_4,_5,_6,on,_7,_8,_9,_a){return _3([_a],{generateText:false,itemTreeNodeType:null,singular:true,deleteSelectedNodes:function(){},userSelect:function(_b){this.inherited(arguments,[_b,false,false]);},onDndDrop:function(_c,_d,_e){if(this.containerState=="Over"){var _f=this.tree,_10=_f.model,_11=this.targetAnchor;this.isDragging=false;var _12;var _13=(_11&&_11.item)||_f.item;if(this.dropPosition=="Before"||this.dropPosition=="After"){_13=(_11.getParent()&&_11.getParent().item)||_f.item;_12=_11.getIndexInParent();if(this.dropPosition=="After"){_12=_11.getIndexInParent()+1;}}var _14;_1.forEach(_d,function(_15,idx){var _16=_c.getItem(_15.id);if(_1.indexOf(_16.type,this.itemTreeNodeType)!=-1){var _17=_16.data,_18=_17.item,_19=_17.getParent().item;}if(_c==this){if(typeof _12=="number"){if(_13==_19&&_17.getIndexInParent()<_12){_12-=1;}}_10.pasteItem(_18,_19,_13,_e,_12);}else{if(_10.isItem(_18)){_10.pasteItem(_18,_19,_13,_e,_12);}else{if(!_14){_14=this.itemCreator(_d,_11.rowNode,_c);}_10.newItem(_14[idx],_13,_12);}}},this);this.tree._expandNode(_11);}this.onDndCancel();},getItem:function(key){var _1a=this.inherited(arguments);_1a.type=[this.itemTreeNodeType];return _1a;}});});