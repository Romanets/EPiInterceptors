//>>built
define("epi/shell/_HierarchicalModelMixin",["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred"],function(_1,_2,_3){return _1([],{parentProperty:"parentLink",store:null,stopAtSubRoot:false,constructor:function(_4){_1.safeMixin(this,_4);},getParentIdentity:function(_5){return _2.getObject(this.parentProperty,false,_5);},getAncestors:function(_6,_7){if(!this.store){_7([]);return;}var _8=typeof _6==="object"?_6:this.store.get(_6);_3.when(_8,_2.hitch(this,function(_9){_3.when(this._getAncestors([_9]),_7);}));},_getAncestors:function(_a){if(this.stopAtSubRoot&&this.root&&this.getIdentity&&this.getIdentity(_a[0])==this.root){return _a.slice(0,-1);}var _b=this.getParentIdentity(_a[0]);if(!_b){return _a.slice(0,-1);}return _3.when(this.store.get(_b),_2.hitch(this,function(_c){if(_c){_a.unshift(_c);return this._getAncestors(_a);}return _a.slice(0,-1);}));}});});