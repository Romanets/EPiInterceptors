//>>built
define("epi/shell/widget/_ActionConsumer",["dojo","epi/shell/widget/_ActionProviderBase"],function(_1,_2){return _1.declare("epi.shell.widget._ActionConsumer",_2,{_actionProviders:null,constructor:function(_3){this._actionProviders=[];if(typeof (_3)!=="undefined"||_3!=null&&_1.isArray(_3.actionProviders)){_1.forEach(_3.actionProviders,function(_4){this.addProvider(_4);},this);}},isProviderRegistered:function(_5){if(typeof (_5)==="undefined"||_5==null){return false;}return _1.some(this._actionProviders,function(_6){return _6.provider===_5;});},addProvider:function(_7){if(typeof (_7)==="undefined"||_7==null||this.isProviderRegistered(_7)){return;}this._actionProviders.push({provider:_7,connects:[_1.connect(_7,"onActionAdded",this,"onActionAdded"),_1.connect(_7,"onActionRemoved",this,"onActionRemoved"),_1.connect(_7,"onActionPropertyChanged",this,"onActionPropertyChanged")]});},removeProvider:function(_8){if(typeof (_8)==="undefined"||_8==null||!this.isProviderRegistered(_8)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider==_8){var _9=this._actionProviders.splice(i,1);_1.forEach(_9.connects,_1.disconnect);break;}}},getActions:function(){var _a=[];_1.forEach(this._actionProviders,function(_b,_c){_a=_a.concat(this._getProviderActions(_b.provider));},this);return _a;},_getProviderActions:function(_d){if(typeof (_d)!=="undefined"&&_d!=null&&typeof (_d.getActions)=="function"){return _d.getActions();}else{return [];}}});});