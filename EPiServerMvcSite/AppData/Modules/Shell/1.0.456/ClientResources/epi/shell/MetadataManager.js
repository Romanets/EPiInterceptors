//>>built
define("epi/shell/MetadataManager",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/json","epi/dependency","./PropertyMetadata"],function(_1,_2,_3,_4,_5){return _1("epi.shell.MetadataManager",null,{store:null,_setTypeMetadataStore:function(){var _6=_4.resolve("epi.storeregistry");this.store=_6.get("epi.shell.metadata");},getMetadataForType:function(_7,_8){function _9(_a){return new _5(_a);};function _b(_c,_d){throw new Error("No such type");};if(this.store==null){this._setTypeMetadataStore();}_8=_8?_3.toJson(_8):null;return _2.when(this.store.query({type:_7,modelAccessor:_8}),_9,_b);},_clear:function(){this.store=null;}});});