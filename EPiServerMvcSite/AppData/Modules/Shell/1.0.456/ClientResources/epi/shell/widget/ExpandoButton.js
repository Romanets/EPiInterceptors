//>>built
require({cache:{"url:epi/shell/widget/templates/ExpandoButton.html":"<span class=\"dijit dijitReset dijitInline epi-chromelessButton\">\r\n    <button data-dojo-attach-point=\"toggleButtonState\" data-dojo-type=\"dijit.form.ToggleButton\"\r\n        data-dojo-attach-event=\"onChange: _toggleButtonStateClick\" showlabel=\"false\">${label}</button>\r\n    <ul data-dojo-type=\"epi.shell.widget.ListContainer\" data-dojo-attach-point=\"containerNode\"></ul>\r\n</span>"}});define("epi/shell/widget/ExpandoButton",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/fx/easing","dojo/keys","dojo/number","dojo/text!./templates/ExpandoButton.html","dijit/_Container","dijit/_KeyNavContainer","dijit/_Widget","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dijit/form/ToggleButton","epi/shell/widget/ListContainer","epi/shell/widget/ListItem"],function(_1,_2,fx,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14){return _2("epi.shell.widget.ExpandoButton",[_f,_11,_10,_e],{templateString:_c,buttons:null,isExpand:false,label:"",iconClass:"",hasToggleableChildren:true,_separatorBorderWidth:0,postMixInProperties:function(){if(!this.showInGroup){this.templateString="<ul class=\"dijitReset dijitInline epi-mediumButton epi-expandoButton\">                                            <li data-dojo-attach-point=\"itemsContainer\">"+this.templateString+"</li>                                        </ul>";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers([_a.LEFT_ARROW],[_a.RIGHT_ARROW]);if(this.buttons){_1.forEach(this.buttons,function(_15){this.containerNode.addChild(_15);this._startupChild(_15.getParent());this._startupChild(_15);if(!_15.get("iconClass")){_5.add(_15.getParent().domNode,"epi-expandoButtonTextNode");}},this);}this.subscribe("/epi/shell/widget/ExpandoButton/action/toggle",_3.hitch(this,function(_16){this.toggleButtonState.set("checked",_16);}));if(this.iconClass){this.toggleButtonState.set("iconClass",this.iconClass);}this.connect(this.toggleButtonState,"onClick",this.onClick);},onClick:function(){},startup:function(){this.inherited(arguments);if(this.showInGroup){this._separatorBorderWidth=_7.position(this.containerNode.domNode).w-this.containerNode.domNode.clientWidth;}this.toggleButtonState.set("checked",this.isExpand);},_getNextFocusableChild:function(_17,dir){if(_17){_17=this._getSiblingOfChild(_17,dir);}var _18=[this.togglebuttonState];_3.mixin(_18,this.containerNode.getChildren());for(var i=0;i<_18.length;i++){if(!_17){_17=_18[(dir>0)?0:(_18.length-1)];}if(_17.isFocusable()){return _17;}_17=this._getSiblingOfChild(_17,dir);}return null;},_setIsExpandAttr:function(_19){this.toggleButtonState.set("checked",_19);},isExpanded:function(){return this.toggleButtonState.get("checked");},focusNext:function(){var _1a=this._getLastFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_1a){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusPrev:function(){var _1b=this._getFirstFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_1b){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusChild:function(_1c,_1d){if(this.isExpanded()){this.inherited(arguments);}},_toggleButtonStateClick:function(val){this.focusedChild=null;val?this._expand():this._collapse();this.onChange(val);},onChange:function(val){},_expand:function(){if(!this.hasToggleableChildren){_5.add(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}var _1e=this.containerNode.getChildren().length;if(_1e>0){var _1f=0,_20=0,_21=null,_22=_7.position(this.containerNode.domNode).w-this.containerNode.domNode.clientWidth;for(var i=0;i<this.containerNode.getChildren().length;i++){_21=this.containerNode.getChildren()[i];if(_21){_1f+=_21.domNode.clientWidth;}}_1f+=_22;_20=_7.position(this.toggleButtonState.domNode).w+_1f+this._separatorBorderWidth;this._animate(true,"backOut",_20,_1f);}},_collapse:function(){if(!this.hasToggleableChildren){_5.remove(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}var _23=this.containerNode.getChildren().length;var _24=this.toggleButtonState.domNode.clientWidth;if(_23>0&&_24>0){this._animate(false,"backIn",_24,0);}},_animate:function(_25,_26,_27,_28){_4.set(this.containerNode.domNode,"tabindex",-1);var _29=this.showInGroup?this.getParent().domNode:this.itemsContainer;_5.toggle(_29,"epi-expandoButtonParentNodeOpen",_25);var ef=_9[_26];var _2a={node:_29,properties:{width:_b.round(_27)},easing:ef,duration:400};fx.animateProperty(_2a).play();_2a={node:this.containerNode.domNode,properties:{width:_b.round(_28)},easing:ef,duration:400};fx.animateProperty(_2a).play();}});});