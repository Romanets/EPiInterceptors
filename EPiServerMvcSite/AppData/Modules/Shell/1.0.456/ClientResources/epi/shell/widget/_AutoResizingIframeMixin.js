//>>built
define("epi/shell/widget/_AutoResizingIframeMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/_base/window","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","dojo/has","epi/shell/widget/_ScrollbarMeasurementMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1("epi.shell.widget._AutoResizingIframeMixin",[_9],{onAfterResize:function(_a){},onUnload:function(){this.inherited(arguments);if(this._contentBox){_7.set(this.iframe,{width:this._contentBox.w+"px",height:this._contentBox.h+"px"});}},contentChange:function(){if(this._contentBox){this.resize(this._contentBox,true);}},resize:function(_b,_c){var _d=this,_e=this._resize(_b,_c);_e.then(function(_f){_d.onAfterResize(_f);});return _e;},_resize:function(_10,_11){var _12=this._contentBox||{h:0,w:0},_13=this,_14=new _2(),_15=new _2();function _16(_17){if(_13.resizeThrottle){clearTimeout(_13.resizeThrottle);_13.resizeThrottle=null;}_13.resizeThrottle=setTimeout(function(){_7.set(_13.iframe,{width:_17.w+"px",height:_17.h+"px"});_14.resolve();},50);return _14;};if(_11||(_10&&(_10.h!==_12.h||_10.w!==_12.w))){this._contentBox=_10;_16(_10).then(function(){var _18=_13._changeDocumentSize(_10);_15.resolve(_18);});}return _15;},_changeDocumentSize:function(_19){var doc,_1a={h:0,w:0};function _1b(_1c,_1d){if(_1c.documentElement&&_1c.body){_7.set(_1c.documentElement,{overflow:_1d});_7.set(_1c.body,{overflow:_1d});}};if(this.isInspectable()){doc=this.getDocument();_1b(doc,"visible");_1a=this._calculateActualSize();if(_8("ie")){this._removeScrollbars(_1a,_19);}if(_1a.w>0&&_1a.h>0){_7.set(this.iframe,{width:_1a.w+"px",height:_1a.h+"px"});}_1b(doc,"hidden");_5.set(this.iframe,"data-epi-ipad-ping","pong");}return _1a;},_removeScrollbars:function(_1e,_1f){var _20=this.getScrollbarSize(),_21=_1e.h>_1f.h,_22=_1e.w>_1f.w;if(_21&&!_22){_1e.w-=_20.y;}if(_22&&!_21){_1e.h-=_20.x;}return _1e;}});});