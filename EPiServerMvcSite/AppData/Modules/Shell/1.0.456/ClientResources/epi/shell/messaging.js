//>>built
define("epi/shell/messaging",["dojo","epi"],function(_1,_2){var _3=_1.getObject("epiJQuery");var _4=function($){var _5={};return {subscribe:function(_6,_7,_8){return _1.subscribe(_6,_7,_8);},unsubscribe:function(_9){_1.unsubscribe(_9);},publish:function(_a,_b){var _c=arguments[2]||null;for(var i in _5){var _d=_5[i];if(_d.name!=_c){_d.context[_d.publishMethod]({data:_a,__epiPublished:true},_b);}}},registerLibrary:function(_e,_f,_10,_11){_5[_e]={name:_e,publishMethod:_10};_5[_e].context=_f;_5[_e].originalPublish=_f[_10];_f[_10]=function(_12,_13){var _14=Array.prototype.slice.call(arguments);if(!_12.__epiPublished){if(!_11||(_11.apply(this,arguments))){_4.publish(_12,_13,_e);}}else{_14[0]=_12.data;}_5[_e].originalPublish.apply(this,_14);};},unRegisterLibrary:function(_15){var lib=_5[_15];lib.context[lib.publishMethod]=lib.originalPublish;delete _5[_15];}};}(_3);_4.registerLibrary("jquery",_3.event,"trigger",function(_16,_17,_18){if(typeof _16=="string"&&!_18){return true;}return false;});_4.registerLibrary("dojo",_1,"publish");_1.setObject("epi.shell.messaging",_4);return _4;});