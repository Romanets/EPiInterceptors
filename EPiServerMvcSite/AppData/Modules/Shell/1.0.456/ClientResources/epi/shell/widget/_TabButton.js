//>>built
require({cache:{"url:epi/shell/widget/templates/_TabButton.htm":" <div waiRole=\"presentation\" dojoAttachPoint=\"titleNode\" dojoAttachEvent=\"onclick:onClick\"  class=\"epi-mediumButton epi-chromelessButton\">\r\n    <div waiRole=\"presentation\" class=\"dijitTabInnerDiv\" dojoAttachPoint=\"innerDiv\">\r\n        <div waiRole=\"presentation\" class=\"dijitTabContent\" dojoAttachPoint=\"tabContent\">\r\n            <div waiRole=\"presentation\" dojoAttachPoint=\"focusNode\">\r\n                <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon epi-iconSettingsMenu\" dojoAttachPoint=\"iconNode\" style=\"display:none\"/>\r\n                <span class=\"tabLabel\" dojoAttachPoint=\"tabName, containerNode\"></span>\r\n                <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" dojoAttachPoint=\"editBox\" dojoAttachEvent=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\"></span>\r\n                <span style=\"display:none;\" class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" dojoAttachPoint=\"closeNode\" dojoAttachEvent=\"onclick: onClickCloseButton\" waiRole=\"presentation\">\r\n                        <span dojoAttachPoint=\"closeText\" class=\"dijitTabCloseText\">x</span>\r\n                </span>\r\n                <span class=\"dijitInline\" waiRole=\"presentation\">\r\n                    <div dojoType=\"dijit.form.DropDownButton\" dojoAttachPoint=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" dojoAttachEvent=\"onMouseDown: onMenuButton\">\r\n                        <div dojoType=\"dijit.Menu\" dojoAttachPoint=\"dropDown\">\r\n                            <div dojoType=\"dijit.MenuItem\" dojoAttachEvent=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                            <div dojoType=\"dijit.PopupMenuItem\">\r\n                                <span>${res.menuitemlayout}</span>\r\n                                <div dojoType=\"dijit.Menu\" dojoAttachPoint=\"menuLayout\">\r\n                                    <div dojoType=\"dijit.CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" dojoAttachEvent=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                                    <div dojoType=\"dijit.CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" dojoAttachEvent=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                                    <div dojoType=\"dijit.CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" dojoAttachEvent=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div dojoType=\"dijit.MenuSeparator\"></div>\r\n                            <div dojoType=\"dijit.MenuItem\" dojoAttachPoint=\"closeTabMenuItem\" dojoAttachEvent=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n                        </div>\r\n                    </div>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("epi/shell/widget/_TabButton",["dojo","dojo/keys","dijit","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/layout/StackController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1.declare("epi.shell.widget._TabButton",[_6.StackButton,_4,_5],{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},res:_9,editing:false,tabCurrentName:"",templateString:_8,buildRendering:function(){this.inherited(arguments);_1.forEach(this.menuLayout.getChildren(),function(_a){_a.connect(_a,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_b){if(_b){_1.forEach(this.getParent().getChildren(),function(_c){_c.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(_d){},onTabTitleChanged:function(_e){},onMenuButton:function(_f){_f.stopPropagation();},onRenameMenuItem:function(evt){this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_10){if(_10){_1.style(this.nodeOptions.domNode,"display","");}else{_1.style(this.nodeOptions.domNode,"display","none");}},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=_2;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._setTabTitleEditable(false);break;case k.ENTER:this._saveTabTitleChanges();break;}},_setTabTitleEditable:function(_11,_12){this.editing=_11;_1.setSelectable(this.focusNode,_11);if(_11){_1.style(this.tabName,"display","none");_1.style(this.editBox,"display","");if(_12){this.editBox.value=_12;}else{this.editBox.value=_7.decode(this.tabName.innerHTML);}_3.selectInputText(this.editBox);_3.focus(this.editBox);}else{_1.style(this.editBox,"display","none");_1.style(this.tabName,"display","");this.editBox.value="";if(_1.isIE){_1.style(this.domNode,"zoom","1");_1.style(this.domNode,"zoom","");}_3.focus(this.focusNode);}},_saveTabTitleChanges:function(){this.tabName.innerHTML=_7.encode(this.editBox.value);this.onTabTitleChanged(this.editBox.value);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_13,_14,_15){this.tabName.innerHTML=_7.encode(_14);},_setCloseButtonAttr:function(_16){this.closeNode.style.display="none";},_setLabelAttr:function(_17){this.tabName.innerHTML=_7.encode(_17);}});});