//>>built
define("epi/i18n",["dojo/_base/kernel","dojo/_base/lang"],function(_1,_2){var _3=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_4={},_5=function(_6,_7){var _8=_6.split("."),i=0;while((p=_8[i++])){_7=(p in _7?_7[p]:_7[p]={__partial:true});}return _7;},_9=function(_a,_b,_c){var _d=_4[_a]||(_4[_a]={}),_e=_5(_b,_d);_2.mixin(_e,_c);delete _e["__partial"];},_f=function(_10,_11){var _12=_4[_10];if(_12){var _13=_2.getObject(_11,false,_12);return _13&&!_13.__partial?_13:undefined;}};return {load:function(id,_14,_15){id=id.toLowerCase();var _16=_3.exec(id),_17=_16[1]+"/",_18=_16[5]||_16[4],_19=(_16[5]&&_16[4]),_1a=_19||_1.locale,_1b=_17+_1a+"/"+_18;var _1c=_f(_17,_18);if(_1c){_15(_1c);return;}_14([_1b],function(_1d){_9(_17,_18,_1d);_15(_1d);});},clearCache:function(){_4={};}};});