//>>built
require({cache:{"epi/routes":function(){(function(){var _1={registeredRoutes:{},defaultModuleArea:null,init:function(_2){this.defaultModuleArea=_2;},registerRoute:function(_3,_4){this.registeredRoutes[_4.moduleArea.toLowerCase()]={url:_3,defaults:_4};},getActionPath:function(_5,_6){var _7=null;if(typeof _6=="string"){_7={url:_6,defaults:{}};}else{if(_5==null||typeof _5["moduleArea"]!="string"){_7=this.registeredRoutes[this.defaultModuleArea.toLowerCase()];}else{_7=this.registeredRoutes[_5["moduleArea"].toLowerCase()];}}if(!_7){throw new Error("Failed to resolve a route from parameters or default settings");}var _8=function(_9,_a,_b){var _c="{"+_a+"}";var _d=_9.indexOf(_c,0);if(_d>=0){return _9.substring(0,_d)+_b+_9.substring(_d+_c.length);}var _e=_9.indexOf("?");return _9+(_e>=0?"&":"?")+_a+"="+_b;};var _f=(typeof dojo==="object"?dojo.mixin:$.extend);var _10=_f({},_7.defaults,_5);var _11=_7.url;for(var key in _10){_11=_8(_11,key,_10[key]);}var _12=/\/+[?]/;_11=_11.replace(_12,"?");return _11;},getRestPath:function(_13,_14){var _15=_13.storeName;delete _13.storeName;return this.getActionPath(dojo.mixin(_13,{action:_15,controller:"Stores"}),_14);},getRouteParams:function(_16,url){var _17=/[\/|?]/g;var _18=this.parseUrl(url);var _19=_18.path.split(_17);var _1a=_16.split(_17);var _1b={};for(var i=0;i<_1a.length;i++){if(_1a[i].charAt(0)==="{"){var _1c=_1a[i].substring(1,_1a[i].length-1);var _1d=_19.length>i?_19[i]:"";_1b[_1c]=_1d;}}return $.extend(_1b,_18.queryParams);},parseUrl:function(_1e){var url={};var _1f=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(_1e);var _20=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];var i=_20.length;while(i--){url[_20[i]]=_1f[i]||"";}url.queryParams={};url.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function($0,$1,$2){if($1){url.queryParams[$1]=$2;}});return url;}};if(typeof define!="undefined"){define("epi/routes",["epi"],function(epi){return epi.routes=_1;});}else{var e=window.epi||{};e.routes=_1;}})();},"epi/shell/Bootstrapper":function(){define("epi/shell/Bootstrapper",["dojo/_base/declare","dojo/_base/Deferred","dojo/topic","epi","epi/dependency","epi/ModuleManager","epi/shell/widget/ViewController"],function(_21,_22,_23,epi,_24,_25,_26){return _21("epi.shell.Bootstrapper",null,{_moduleManager:null,constructor:function(_27){this._moduleManager=new _25(_27);_24.register("epi.ModuleManager",this._moduleManager);this._moduleManager.configureModules();},initializeApplication:function(_28,_29){var _2a=new _22();var _2b=new _26({viewName:_28});_24.register("epi.shell.controller.Views",_2b);_22.when(this._moduleManager.startModules(_29),function(){if(_28!="/episerver/dashboard"){var _2c=_24.resolve("epi.shell.ContextService");if(_2c.initialUri){_23.publish("/epi/shell/context/request",{uri:_2c.initialUri},{});}}_2a.resolve();});return _2a;}});});},"dojo/Stateful":function(){define("dojo/Stateful",["./_base/kernel","./_base/declare","./_base/lang","./_base/array"],function(_2d,_2e,_2f,_30){return _2d.declare("dojo.Stateful",null,{postscript:function(_31){if(_31){_2f.mixin(this,_31);}},get:function(_32){return this[_32];},set:function(_33,_34){if(typeof _33==="object"){for(var x in _33){this.set(x,_33[x]);}return this;}var _35=this[_33];this[_33]=_34;if(this._watchCallbacks){this._watchCallbacks(_33,_35,_34);}return this;},watch:function(_36,_37){var _38=this._watchCallbacks;if(!_38){var _39=this;_38=this._watchCallbacks=function(_3a,_3b,_3c,_3d){var _3e=function(_3f){if(_3f){_3f=_3f.slice();for(var i=0,l=_3f.length;i<l;i++){try{_3f[i].call(_39,_3a,_3b,_3c);}catch(e){console.error(e);}}}};_3e(_38["_"+_3a]);if(!_3d){_3e(_38["*"]);}};}if(!_37&&typeof _36==="function"){_37=_36;_36="*";}else{_36="_"+_36;}var _40=_38[_36];if(typeof _40!=="object"){_40=_38[_36]=[];}_40.push(_37);return {unwatch:function(){_40.splice(_30.indexOf(_40,_37),1);}};}});});},"epi/dependency":function(){define("epi/dependency",["dojo","epi"],function(_41,epi){var _42=_41.declare("epi._Dependency",null,{_dependencies:null,constructor:function(){this._dependencies={};},register:function(_43,_44,_45){var _46=(typeof _44=="function");var _47=(_46&&"superclass" in _44);var _48=(!_46&&!_47);var _49;if(_47){var cls=_44;_49=function(){return new cls();};}else{if(_46){_49=_44;}}this.unregister(_43);this._dependencies[_43]={"value":_48?_44:undefined,"initFunction":_49,"initialized":_48,"unregisterFunction":_45};},unregister:function(_4a){if(!(_4a in this._dependencies)){return;}var dep=this._dependencies[_4a];if(dep.initialized&&typeof dep.unregisterFunction=="function"){dep.unregisterFunction(dep.value);}delete this._dependencies[_4a];},resolve:function(_4b){if(!(_4b in this._dependencies)){throw new Error("Could not resolve dependency \""+_4b+"\" (epi.dependency)");}var dep=this._dependencies[_4b];if(!dep.initialized){dep.value=dep.initFunction();dep.initialized=true;}return dep.value;},list:function(){var _4c=[];for(var _4d in this._dependencies){_4c.push(_4d);}return _4c;},clear:function(){for(var _4e in this._dependencies){this.unregister(_4e);}this._dependencies={};}});return epi.dependency=new _42();});},"epi/main":function(){define(["dojo","epi/i18n!epi/shell/ui/nls/episerver.shared"],function(_4f,_50){var epi=_4f.getObject("epi",true);epi.resources=_4f.mixin({},_50);return epi;});},"epi/clientResourcesLoader":function(){define("epi/clientResourcesLoader",["epi","dojo"],function(epi,_51){var _52={},_53={};epi.clientResourcesLoader={_loadStyles:function(_54){if(!_51.isArray(_54)){return;}_51.forEach(_54,function(_55){var _56=_55.toLowerCase();if(!(_56 in _52)){var _57=_51.query("head")[0];_51.create("link",{rel:"stylesheet",type:"text/css",href:_55},_57);_52[_56]=1;}else{_52[_56]+=1;}});},_loadScripts:function(_58){var _59=new _51.Deferred();var _5a=[];if(_51.isArray(_58)){_51.forEach(_58,function(_5b){if(!(_5b in _53)){_5a.push(_5b);}});}var _5c=function(_5d){if(_5d.length==0){_59.resolve();return;}var _5e=_5d.shift();require([_5e],function(){_53[_5e]=true;_5c(_5d);});};_5c(_5a);return _59;},loadResources:function(_5f,_60){this._loadStyles(_5f);return this._loadScripts(_60);}};return epi.clientResourcesLoader;});},"epi/_Module":function(){define("epi/_Module",["dojo","epi","epi/dependency"],function(_61,epi,_62){return _61.declare("epi._Module",null,{_initialized:false,_settings:null,_registeredDependencies:null,_dependency:_62,constructor:function(_63){this._settings=_63;this._registeredDependencies=[];this._initialized=false;},initialize:function(){this._initialized=true;},uninitialize:function(){this.unregisterDependencies();},registerDependency:function(_64,_65,_66,_67){this._registeredDependencies.push(_64);this._dependency.register(_64,_65,_66,_67);},unregisterDependencies:function(){_61.forEach(this._registeredDependencies,function(_68,_69){this._dependency.unregister(_68);},this);this._registeredDependencies=[];this._initialized=false;},resolveDependency:function(_6a){return this._dependency.resolve(_6a);},unregisterDependency:function(_6b){this._dependency.unregister(_6b);this._registeredDependencies=_61.filter(this._registeredDependencies,function(_6c,_6d){return _6c!=_6b;});}});});},"epi/i18n":function(){define("epi/i18n",["dojo/_base/kernel","dojo/_base/lang"],function(_6e,_6f){var _70=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_71={},_72=function(_73,_74){var _75=_73.split("."),i=0;while((p=_75[i++])){_74=(p in _74?_74[p]:_74[p]={__partial:true});}return _74;},_76=function(_77,_78,_79){var _7a=_71[_77]||(_71[_77]={}),_7b=_72(_78,_7a);_6f.mixin(_7b,_79);delete _7b["__partial"];},_7c=function(_7d,_7e){var _7f=_71[_7d];if(_7f){var _80=_6f.getObject(_7e,false,_7f);return _80&&!_80.__partial?_80:undefined;}};return {load:function(id,_81,_82){id=id.toLowerCase();var _83=_70.exec(id),_84=_83[1]+"/",_85=_83[5]||_83[4],_86=(_83[5]&&_83[4]),_87=_86||_6e.locale,_88=_84+_87+"/"+_85;var _89=_7c(_84,_85);if(_89){_82(_89);return;}_81([_88],function(_8a){_76(_84,_85,_8a);_82(_8a);});},clearCache:function(){_71={};}};});},"epi/shell/widget/ViewController":function(){define("epi/shell/widget/ViewController",["dojo/_base/declare"],function(_8b){return _8b("epi.shell.widget.ViewController",null,{viewName:null,constructor:function(_8c){_8b.safeMixin(this,_8c);}});});},"dojo/DeferredList":function(){define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(_8d,_8e,_8f){_8d.DeferredList=function(_90,_91,_92,_93,_94){var _95=[];_8e.call(this);var _96=this;if(_90.length===0&&!_91){this.resolve([0,[]]);}var _97=0;_8f.forEach(_90,function(_98,i){_98.then(function(_99){if(_91){_96.resolve([i,_99]);}else{_9a(true,_99);}},function(_9b){if(_92){_96.reject(_9b);}else{_9a(false,_9b);}if(_93){return null;}throw _9b;});function _9a(_9c,_9d){_95[i]=[_9c,_9d];_97++;if(_97===_90.length){_96.resolve(_95);}};});};_8d.DeferredList.prototype=new _8e();_8d.DeferredList.prototype.gatherResults=function(_9e){var d=new _8d.DeferredList(_9e,false,true,false);d.addCallback(function(_9f){var ret=[];_8f.forEach(_9f,function(_a0){ret.push(_a0[1]);});return ret;});return d;};return _8d.DeferredList;});},"epi/shell/Stateful":function(){define("epi/shell/Stateful",["dojo","epi","dojo/Stateful"],function(_a1,epi,_a2){return _a1.declare("epi.shell.Stateful",_a2,{_prefix:"epi-",initialData:null,constructor:function(_a3){},postscript:function(){this.inherited(arguments);if(this.initialData){this.set(this.initialData);}},get:function(_a4){return _a1.getObject(this._prefix+_a4,false,this);},set:function(_a5,_a6){if(typeof _a5==="object"){for(var x in _a5){this.set(x,_a5[x]);}return this;}var _a7=_a1.getObject(this._prefix+_a5,false,this);var _a8=_a6;_a1.setObject(this._prefix+_a5,_a8,this);if(this._watchCallbacks){this._watchCallbacks(_a5,_a7,_a8);this._callbackParentObjects(_a5,_a7,_a8);this._callbackChildObjects(_a5,_a7,_a8);}return this;},watch:function(_a9,_aa){var _ab=this._watchCallbacks;if(!_ab){var _ac=this;_ab=this._watchCallbacks=function(_ad,_ae,_af,_b0){var _b1=function(_b2){if(_b2){_b2=_b2.slice();for(var i=0,l=_b2.length;i<l;i++){try{_b2[i].call(_ac,_ad,_ae,_af);}catch(e){console.error(e);}}}};_b1(_ab["_"+_ad]);if(!_b0){_b1(_ab["*"]);}};}if(!_aa&&typeof _a9==="function"){_aa=_a9;_a9="*";}else{_a9="_"+_a9;}var _b3=_ab[_a9];if(typeof _b3!=="object"){_b3=_ab[_a9]=[];}_b3.push(_aa);return {unwatch:function(){_b3.splice(_a1.indexOf(_b3,_aa),1);}};},_callbackChildObjects:function(_b4,_b5,_b6){var _b7;if(_a1.isObject(_b6)){for(_b7 in _b6){if(!_a1.isFunction(_b6[_b7])){this._watchCallbacks(_b4+"."+_b7,_b5?_b5[_b7]:null,_b6[_b7]);this._callbackChildObjects(_b4+"."+_b7,_b5?_b5[_b7]:null,_b6[_b7]);}}}},_callbackParentObjects:function(_b8,_b9,_ba){var _bb=_b8.split(".");if(_bb.length==1){return;}var key=_bb.pop();_b8=_bb.join(".");var _bc=this.get(_b8);_b9=this._getUpdatedObject(_bc,key,_b9);_ba=_bc;this._watchCallbacks(_b8,_b9,_ba);this._callbackParentObjects(_b8,_b9,_ba);},_getUpdatedObject:function(_bd,key,_be){var _bf=_a1.clone(_bd);_bf[key]=_be;return _bf;}});});},"epi/ModuleManager":function(){define("epi/ModuleManager",["dojo","dojo/DeferredList","epi/clientResourcesLoader","epi/routes"],function(_c0,_c1,_c2,_c3){return _c0.declare("epi.ModuleManager",null,{_allModules:null,_moduleInstances:null,_modulesConfigured:false,constructor:function(_c4){this._allModules={};this._moduleInstances={};for(var i=0;i<_c4.length;i++){var _c5=_c4[i];this._allModules[_c5.name]=_c5;}},getModule:function(_c6){return this._allModules[_c6];},configureModules:function(){if(this._modulesConfigured){return;}this._modulesConfigured=true;for(var _c7 in this._allModules){this._configureModule(this._allModules[_c7]);}},startModules:function(_c8){this.configureModules();if(_c8){return this._startModule(this._allModules[_c8]);}else{var _c9=[];for(name in this._allModules){_c9.push(this._startModule(this._allModules[name]));}return new _c1(_c9);}},_startModule:function(_ca){if(_ca._started){return _ca._started;}_ca._started=new _c0.Deferred();var _cb=this;_c0.when(this._startRequiredModules(_ca),function(){var _cc=_c2.loadResources(_ca.cssResources,_ca.scriptResources);_c0.when(_cc,function(){_cb._runModuleInitializer(_ca).then(_ca._started.resolve,_ca._started.reject);});});return _ca._started;},_startRequiredModules:function(_cd){var _ce=_cd.moduleDependencies;var _cf=[];if(_c0.isArray(_ce)&&_ce.length){_cf=_c0.map(_ce,function(_d0){var _d1=this._allModules[_d0];if(!_d1){throw new Error("Module '"+_cd.name+"' has a dependency named '"+_d0+"' which doesn't exist");}return this._startModule(_d1);},this);}return new _c1(_cf);},_configureModule:function(_d2){function _d3(_d4){for(var i in _d4){if(_d4.hasOwnProperty(i)){_c0.registerModulePath(i,_d4[i]);}}};_d3(_d2.namespaceToPathMappings);if(_d2.routes){_c0.forEach(_d2.routes,function(_d5){_c3.registerRoute(_d5.routeBasePath,_d5.routeDefaults);});}},_runModuleInitializer:function(_d6){var dfd=new _c0.Deferred();if(_d6.initializer){var _d7=_d6.initializer.replace(/\./g,"/");require([_d7],_c0.hitch(this,function(_d8){try{var _d9=new _d8(_d6);_d9.initialize();this._moduleInstances[_d6.name]=_d9;dfd.resolve();}catch(e){console.error(e.stack||e);dfd.reject(e);}}));}else{dfd.resolve();}return dfd;},unInitializeModule:function(_da){var _db=this._moduleInstances;_db[_da].uninitialize();delete _db[_da];}});});}}});define("epi/epi",["dojo/_base/lang",".","./dependency","./routes","./clientResourcesLoader","./_Module","./ModuleManager","./shell/Bootstrapper","./shell/Stateful"],function(_dc,epi){epi.areEqual=function(_dd,_de){if((_dd===undefined)&&(_de===undefined)){return true;}if(_dd===null&&_de===null){return true;}if(_dd===null||_de===null){return false;}if(typeof _dd!==typeof _de){return false;}if((_dd===_de)||(_dd==_de)||(typeof _dd=="number"&&typeof _de=="number"&&isNaN(_dd)&&isNaN(_de))){return true;}if(_dc.isArray(_dd)&&_dc.isArray(_de)){if(_dd.length!=_de.length){return false;}for(var x=0;x<_dd.length;x++){if(!epi.areEqual(_dd[x],_de[x])){return false;}}return true;}if((_dd instanceof Date)&&(_de instanceof Date)){return _dd.getTime()===_de.getTime();}if(((typeof _dd=="object")&&((typeof _de=="object")))){var _df;for(_df in _de){if(_dd[_df]===undefined){return false;}}for(_df in _dd){if(!epi.areEqual(_dd[_df],_de[_df])){return false;}}return true;}return false;};epi.isEmpty=function(obj){for(var _e0 in obj){if(obj.hasOwnProperty(_e0)){return false;}}return true;};return epi;});